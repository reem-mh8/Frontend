<!doctype html>
<html class="no-js" lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Evocar - Liste des Coachs</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <!-- Cursor -->
    <div class="cursor js-cursor"></div>
    <!-- header -->
    <app-header></app-header>
    <!-- header-end -->

    <!-- offcanvas-area -->
    <div class="offcanvas-menu">
        <span class="menu-close"><i class="fas fa-times"></i></span>
        <form role="search" method="get" id="searchform" class="searchform" action="#">
            <input type="text" name="s" id="search" placeholder="Search"/>
            <button><i class="fa fa-search"></i></button>
        </form>
        <div id="cssmenu3" class="menu-one-page-menu-container">
            <ul class="menu">
                <li class="menu-item"><a href="index.html">Home</a></li>
                <li class="menu-item"><a href="about.html">About Us</a></li>
                <li class="menu-item"><a href="classes.html">Classes</a></li>
                <li class="menu-item"><a href="pricing.html">Pricing</a></li>
                <li class="menu-item"><a href="team.html">Team</a></li>
                <li class="menu-item"><a href="projects.html">Cases Study</a></li>
                <li class="menu-item"><a href="blog.html">Blog</a></li>
                <li class="menu-item"><a href="contact.html">Contact</a></li>
            </ul>
        </div>
        <div id="cssmenu2" class="menu-one-page-menu-container">
            <ul id="menu-one-page-menu-12" class="menu">
                <li class="menu-item"><a href="#home"><span>+8 12 3456897</span></a></li>
                <li class="menu-item"><a href="#howitwork"><span>info@example.com</span></a></li>
            </ul>
        </div>
    </div>
    <div class="offcanvas-overly"></div>
    <!-- offcanvas-end -->

    <!-- main-area -->
    <main>
        <!-- breadcrumb-area -->
        <section class="breadcrumb-area d-flex align-items-center" style="background-image:url(img/bg/bdrc-bg.jpg); padding-top: 20px; padding-bottom: 20px;">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-12 col-lg-12">
                        <div class="breadcrumb-wrap text-left">
                            <div class="breadcrumb-title">
                                <h2>Liste des coachs disponibles</h2>
                                <div class="breadcrumb-wrap">
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <li class="breadcrumb-item"><a href="#">Acceuil</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">Liste Coachs</li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- breadcrumb-area-end -->

        <!-- shop-area -->
        <section class="shop-area pt-60 pb-60 p-relative">
            <div class="container">
                <div class="section-title text-center mb-30">
                    <h2>Liste des coachs disponibles</h2>
                    <p>Choisissez votre coach et commencez votre parcours fitness</p>
                </div>

                <div class="row">
                    <div class="col-lg-4 col-md-6 mb-30" *ngFor="let coach of coachesToDisplay">
                        <div class="product text-center shadow-sm p-3 rounded">
                            <div class="product__img position-relative">
                                <img src="img/shop/coach.jpg" alt="Coach" class="img-fluid rounded">
                                <div class="product-action position-absolute top-50 start-50 translate-middle d-none d-md-flex">
                                    <a href="#" class="btn btn-success btn-sm" (click)="contactCoach(coach)">Contacter</a>
                                </div>
                            </div>
                            <div class="product__content pt-3">
                                <h5 class="mb-1">{{coach.nom}} {{coach.prenom}}</h5>
                                <p class="mb-1"><strong>Email:</strong> {{coach.email}}</p>
                                <p class="mb-1"><strong>Mobile:</strong> {{coach.mobile}}</p>
                                <p class="mb-1"><strong>Âge:</strong> {{coach.age}}</p>
                                <p class="mb-1"><strong>Adresse:</strong> {{coach.adresse || 'Non spécifiée'}}</p>
                                
                                <!-- Boutons selon le rôle -->
                                <div class="mt-2">
                                    <!-- Bouton Supprimer (visible pour salle de sport) -->
                                    <button *ngIf="currentUserRole === 'salle de sport'" 
                                            class="btn btn-danger btn-sm me-2" 
                                            (click)="deleteCoach(coach)">
                                        Supprimer
                                    </button>
                                    
                                    <!-- Bouton Contacter (visible pour client) -->
                                    <button *ngIf="currentUserRole === 'client'" 
                                            class="btn btn-success btn-sm me-2"
                                            (click)="contactCoach(coach)">
                                        Contacter
                                    </button>
                                    
                                    <!-- Bouton Chat -->
                                    <a href="video-call" class="btn btn-primary btn-sm">
                                        Chat
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="row mt-50">
                    <div class="col-12 text-center">
                        <ul class="pagination justify-content-center">
                            <li class="page-item">
                                <a class="page-link" href="#" (click)="prevPage(); $event.preventDefault()">
                                    <i class="fas fa-angle-left"></i>
                                </a>
                            </li>
                            <li class="page-item" *ngFor="let page of [].constructor(totalPages); let i = index"
                                [class.active]="currentPage === i + 1">
                                <a class="page-link" href="#" (click)="goToPage(i + 1); $event.preventDefault()">{{ i + 1 }}</a>
                            </li>
                            <li class="page-item">
                                <a class="page-link" href="#" (click)="nextPage(); $event.preventDefault()">
                                    <i class="fas fa-angle-right"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        <!-- shop-area-end -->
    </main>
    <!-- main-area-end -->

    <!-- footer -->
    <app-footer></app-footer>
    <!-- footer-end -->
</body>
</html>